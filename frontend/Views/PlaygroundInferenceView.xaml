<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="frontend.Views.PlaygroundInferenceView"
             BackgroundColor="{AppThemeBinding Light=#F2F2F2, Dark=#303134}">

	<AbsoluteLayout x:Name="MainLayout">
		<Grid AbsoluteLayout.LayoutBounds="0,0,1,1" AbsoluteLayout.LayoutFlags="All" Padding="20" RowSpacing="20" ColumnSpacing="20">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<Button Grid.Row="0"
                    Grid.Column="1"
                    HorizontalOptions="End"
                    BackgroundColor="{AppThemeBinding Light=#3366FF, Dark=#4A90E2}"
                    TextColor="White"
                    BorderColor="{AppThemeBinding Light=#3366FF, Dark=#4A90E2}"
                    CornerRadius="5"
                    Padding="15,10"
                    Text="Load Chain"
                    Clicked="OnLoadChainClicked"/>

			<Frame Grid.Row="1" Grid.Column="0" BackgroundColor="{AppThemeBinding Light=#F0F4F8, Dark=#38393B}" Padding="0" HasShadow="False" BorderColor="{AppThemeBinding Light=#cccccc, Dark=#444444}">
				<ScrollView VerticalScrollBarVisibility="Always">
					<VerticalStackLayout x:Name="InputContainer" Spacing="15" Padding="20">
						<Grid>
							<Label Text="Input" FontSize="18" FontAttributes="Bold" TextColor="{AppThemeBinding Light=#5D5D5D, Dark=#E0E0E0}" VerticalOptions="Center"/>
							<Button Text="Submit for inference"
                                    BackgroundColor="{AppThemeBinding Light=#3366FF, Dark=#4A90E2}"
                                    TextColor="White"
                                    BorderColor="{AppThemeBinding Light=#3366FF, Dark=#4A90E2}"
                                    CornerRadius="5"
                                    Padding="10,5"
                                    HorizontalOptions="End"
                                    VerticalOptions="Center"
                                    Clicked="OnSubmitForInferenceClicked"/>
						</Grid>
						<Label Text="{Binding InstructionText}" FontSize="14" TextColor="{AppThemeBinding Light=#5D5D5D, Dark=#B0B0B0}"/>
					</VerticalStackLayout>
				</ScrollView>
			</Frame>

			<Frame Grid.Row="1" Grid.Column="1" BackgroundColor="{AppThemeBinding Light=White, Dark=#303134}" Padding="0" HasShadow="False" BorderColor="{AppThemeBinding Light=#cccccc, Dark=#444444}">
				<ScrollView VerticalScrollBarVisibility="Always">
					<VerticalStackLayout Spacing="15" Padding="20">
						<Label Text="Output" FontSize="18" FontAttributes="Bold" TextColor="{AppThemeBinding Light=#5D5D5D, Dark=#E0E0E0}"/>
						<toolkit:MediaElement x:Name="OutputMediaElement"
                                              IsVisible="{Binding IsAudioOutputVisible}"
                                              HeightRequest="50"
                                              WidthRequest="300"
                                              Source="{Binding AudioSource}"
                                              ShouldAutoPlay="True" />
						<Label Text="{Binding OutputText}" FontSize="14" TextColor="{AppThemeBinding Light=#5D5D5D, Dark=#B0B0B0}"
                               IsVisible="{Binding IsTextOutputVisible}"/>
						<Button x:Name="DownloadAudioButton"
                                Text="Download Audio"
                                IsVisible="{Binding IsAudioOutputVisible}"
                                Clicked="OnDownloadAudioClicked"/>
					</VerticalStackLayout>
				</ScrollView>
			</Frame>
		</Grid>
	</AbsoluteLayout>
</ContentView>
